var t=Object.defineProperty,e=(e,s,a)=>((e,s,a)=>s in e?t(e,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[s]=a)(e,"symbol"!=typeof s?s+"":s,a);import{P as s}from"./phaser-C5oBAfwf.js";!function(){const t=document.createElement("link").relList;if(!(t&&t.supports&&t.supports("modulepreload"))){for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver(t=>{for(const s of t)if("childList"===s.type)for(const t of s.addedNodes)"LINK"===t.tagName&&"modulepreload"===t.rel&&e(t)}).observe(document,{childList:!0,subtree:!0})}function e(t){if(t.ep)return;t.ep=!0;const e=function(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),"use-credentials"===t.crossOrigin?e.credentials="include":"anonymous"===t.crossOrigin?e.credentials="omit":e.credentials="same-origin",e}(t);fetch(t.href,e)}}();class a extends Phaser.Scene{constructor(){super("Level")}editorCreate(){this.add.image(640,257,"FufuSuperDino");const t=this.add.text(640,458,"",{});t.setOrigin(.5,.5),t.text="Phaser 3 + Phaser Editor v4\nVite + TypeScript",t.setStyle({align:"center",fontFamily:"Arial",fontSize:"3em"}),this.events.emit("scene-awake")}create(){this.editorCreate()}}class i extends Phaser.Scene{constructor(){super("Preload"),e(this,"progressBar")}editorCreate(){const t=this.add.image(505.0120544433594,360,"guapen");t.scaleX=.32715486817515643,t.scaleY=.32715486817515643;const e=this.add.rectangle(553.0120849609375,361,256,20);e.setOrigin(0,0),e.isFilled=!0,e.fillColor=14737632;const s=this.add.rectangle(553.0120849609375,361,256,20);s.setOrigin(0,0),s.fillColor=14737632,s.isStroked=!0;const a=this.add.text(552.0120849609375,329,"",{});a.text="Loading...",a.setStyle({color:"#e0e0e0",fontFamily:"arial",fontSize:"20px"}),this.progressBar=e,this.events.emit("scene-awake")}preload(){this.editorCreate(),this.load.pack("asset-pack","assets/asset-pack.json?h=8721604003092078dba5f6704ee0aabc");const t=this.progressBar.width;this.load.on("progress",e=>{this.progressBar.width=t*e})}create(){this.scene.start("Gameplay")}}class n extends Phaser.GameObjects.Image{constructor(t,s,a,i,n){super(t,s??0,a??0,i||"UiAtlas",n??1),e(this,"callback"),this.scaleX=.5,this.scaleY=.5}setUp(t){this.visible=!0,this.setInteractive(),this.callback=t,this.on("pointerup",()=>{this.onClick()})}disable(){this.disableInteractive()}enable(){this.visible=!0,this.setInteractive()}onClick(){this.callback.call(this.scene),this.scene.tweens.add({targets:this,scale:{from:this.scale,to:1.2*this.scale},duration:200,ease:Phaser.Math.Easing.Back.In,yoyo:!0,paused:!1,onComplete:()=>{}}).play()}}class r extends Phaser.GameObjects.Container{constructor(t,s,a){super(t,s??0,a??0),e(this,"buttonImage"),e(this,"buttonText"),e(this,"buttonTexture",{key:"UiAtlas",frame:4}),e(this,"onPointerUpcallback");const i=t.add.nineslice(0,0,"UiAtlas",4,120,55,8,11,25,25);this.add(i);const n=t.add.text(0,-5,"",{});n.setOrigin(.5,.5),n.setStyle({fontFamily:"Quantico-Regular",fontSize:"19px"}),this.add(n),this.buttonImage=i,this.buttonText=n,this.buttonInitialSize=this.buttonImage.scale}setUp(t,e){this.onPointerUpcallback=e,this.buttonText.text=t,this.buttonImage.setInteractive(),this.buttonImage.on("pointerdown",()=>this.onPointerDown()),this.buttonImage.on("pointerup",()=>this.onPointerUp()),this.buttonImage.setFrame(this.buttonTexture.frame)}onHover(){}onPointerDown(){this.scene.tweens.add({targets:this.buttonImage,scale:{from:1,to:1.2},duration:200,ease:Phaser.Math.Easing.Back.In,yoyo:!1,paused:!1}).play()}onPointerUp(){this.buttonImage.disableInteractive(),this.scene.tweens.add({targets:this.buttonImage,scale:{from:this.buttonImage.scale,to:1},duration:200,yoyo:!1,paused:!1,ease:Phaser.Math.Easing.Back.In,onComplete:()=>{this.onPointerUpcallback.call(this.scene),this.buttonImage.setInteractive()}}).play()}}class o extends Phaser.GameObjects.Container{constructor(t,s,a){super(t,s??0,a??0),e(this,"gameOverPanel"),e(this,"window"),e(this,"riskItAll"),e(this,"header"),e(this,"nextGameMessage"),e(this,"cashOut"),e(this,"onCashOut",()=>{this.deactivateButtons(),this.nextGameMessage.visible=!0,this.nextGameMessage.text="next Game in 00:59:00",this.callback2.call(this.scene)});const i=t.add.nineslice(0,0,"UiAtlas",7,400,400,35,35,35,35);i.alpha=.7,i.tintFill=!0,i.tint=0,this.add(i);const n=t.add.nineslice(0,0,"UiAtlas",7,300,200,30,30,30,30);this.add(n);const o=new r(t,65,37);o.visible=!1,this.add(o);const h=t.add.text(2,-31,"",{});h.setOrigin(.5,.5),h.text="Player Wins!",h.setStyle({align:"center",fixedWidth:246,fixedHeight:55,fontFamily:"Quantico-Regular",fontSize:"30px"}),this.add(h);const l=t.add.text(0,36,"",{});l.setOrigin(.5,.5),l.visible=!1,l.text="next game 00:59:59",l.setStyle({align:"center",fixedWidth:246,fixedHeight:55,fontFamily:"Quantico-Regular",fontSize:"21px"}),this.add(l);const d=new r(t,-58,37);d.visible=!1,this.add(d),d.buttonTexture={key:"UiAtlas",frame:3},this.gameOverPanel=i,this.window=n,this.riskItAll=o,this.header=h,this.nextGameMessage=l,this.cashOut=d}setUp(t,e){this.riskItAll.setUp("Risk it ALL!",t),this.cashOut.setUp("Cash OUT!",this.onCashOut),this.callback2=e}onGameOver(t){this.header.text=t?"Player won!":"Dealer won!",this.deactivateButtons();const e=this.scene.tweens.add({targets:[this.gameOverPanel],alpha:{from:0,to:.7},yoyo:!1,duration:150});this.window.setSize(300,0);const s=this.scene.tweens.add({targets:[this.window],height:{from:0,to:200},yoyo:!1,duration:150,onComplete:()=>{t?this.activateButtons():(this.nextGameMessage.visible=!0,this.nextGameMessage.text="next Game in 00:59:00",this.deactivateButtons())}});e.play(),s.play()}activateButtons(){this.cashOut.visible=!0,this.riskItAll.visible=!0}deactivateButtons(){this.cashOut.visible=!1,this.riskItAll.visible=!1}}class h extends Phaser.GameObjects.Container{constructor(t,s,a){super(t,s??0,a??0),e(this,"streakBackground"),e(this,"counter");const i=t.add.image(0,0,"UiAtlas",0);i.scaleX=.4,i.scaleY=.4,this.add(i);const n=t.add.text(-14,-8,"",{});n.text="0",n.setStyle({align:"center",fixedWidth:25,fixedHeight:25,fontFamily:"Quantico-Regular",fontSize:"20px"}),this.add(n),this.streakBackground=i,this.counter=n}updateCounter(t){this.scene.tweens.add({targets:this.streakBackground,scale:{from:this.streakBackground.scale,to:1.25*this.streakBackground.scale},duration:200,ease:Phaser.Math.Easing.Bounce.Out,yoyo:!0,paused:!1,onComplete:()=>{this.counter.text=t}}).play()}}class l extends Phaser.Scene{constructor(){super("Gameplay"),e(this,"dealerShadow"),e(this,"dealersCard"),e(this,"playerShadowFx"),e(this,"playersCard"),e(this,"higherButton"),e(this,"lowerButton"),e(this,"gameOver"),e(this,"cashOutMessage"),e(this,"gameOverText"),e(this,"streak"),e(this,"list"),e(this,"initialButnScale"),e(this,"emitter"),e(this,"m_DealerValue"),e(this,"m_playerValue"),e(this,"m_streakCount"),e(this,"continuousEmitter")}preload(){this.load.pack("asset-pack","assets/asset-pack.json")}editorCreate(){const t=this.add.text(240,86.03200054168701,"",{});t.setOrigin(.5,.5),t.text="Player",t.setStyle({align:"center",fixedWidth:106,fontFamily:"Quantico-Regular",fontStyle:"italic"});const e=this.add.text(100,85.03200054168701,"",{});e.setOrigin(.5,.5),e.text="Dealer",e.setStyle({align:"center",fixedWidth:106,fontFamily:"Quantico-Regular",fontStyle:"italic"});const s=this.add.image(100,170,"Card_Sheet",52);s.scaleX=1.6,s.scaleY=1.6,s.alpha=.46,s.alphaTopLeft=.46,s.alphaTopRight=.46,s.alphaBottomLeft=.46,s.alphaBottomRight=.46,s.tintFill=!0,s.tintTopLeft=143688,s.tintTopRight=143688,s.tintBottomLeft=143688,s.tintBottomRight=143688;const a=this.add.image(240,170,"Card_Sheet",52);a.scaleX=1.6,a.scaleY=1.6,a.alpha=.46,a.alphaTopLeft=.46,a.alphaTopRight=.46,a.alphaBottomLeft=.46,a.alphaBottomRight=.46,a.tintFill=!0,a.tintTopLeft=143688,a.tintTopRight=143688,a.tintBottomLeft=143688,a.tintBottomRight=143688;const i=this.add.image(175,-101,"Card_Sheet",52);i.scaleX=1.6,i.scaleY=1.6,i.angle=166;const r=i.postFX.addShadow(-.5,1,.05,1,0,6,1),l=this.add.image(183,-101,"Card_Sheet",52);l.scaleX=1.6,l.scaleY=1.6,l.angle=166;const d=l.postFX.addShadow(0,1,.05,1,0,6,1);this.add.nineslice(50,310,"UiAtlas",3,100,60,25,25,25,25).visible=!1,this.add.nineslice(290,310,"UiAtlas",4,100,60,25,25,25,25).visible=!1;const c=new n(this,272,290);this.add.existing(c);const u=new n(this,204,290,"UiAtlas",2);this.add.existing(u);const m=new o(this,170,170);this.add.existing(m),m.visible=!1;const p=this.add.nineslice(170,170,"UiAtlas",7,275,75,35,35,35,35);p.visible=!1;const g=this.add.text(170,170,"",{});g.setOrigin(.5,.5),g.visible=!1,g.text="next game in 00:59:00",g.setStyle({align:"center",fixedWidth:344,fontFamily:"Quantico-Regular",fontSize:"20px",fontStyle:"italic"});const y=new h(this,306,34);this.add.existing(y),y.scaleX=1,y.scaleY=1;const f=this.add.image(34,34,"currency_hyve_xp_3d_1");f.scaleX=.09017107382001535,f.scaleY=.09017107382001535;const x=this.add.text(69,32,"",{});x.setOrigin(.5,.5),x.text="0",x.setStyle({fixedWidth:30,fixedHeight:30,fontFamily:"Quantico-Regular",fontSize:"30px"}),this.dealerShadow=r,this.dealersCard=i,this.playerShadowFx=d,this.playersCard=l,this.higherButton=c,this.lowerButton=u,this.gameOver=m,this.cashOutMessage=p,this.gameOverText=g,this.streak=y,this.list=[],this.events.emit("scene-awake")}create(){this.editorCreate(),this.initialButnScale=this.higherButton.scale;const t=this.playersCard.width*this.playersCard.scaleX,e=this.playersCard.height*this.playersCard.scaleX,s=new Phaser.Geom.Rectangle(-t/2,-e/2,t,e);this.emitter=this.add.particles(0,0,"white-splash-fade",{speed:0,lifespan:{min:400,max:1e3},scale:{start:.01,end:.07},alpha:{start:1,end:0},blendMode:"ADD",tint:1044495,frequency:300,rotate:{min:0,max:360},quantity:30,emitZone:{type:"edge",source:s,quantity:80}}),this.emitter.stop(),this.startGame(),this.startContinuousConfetti()}startContinuousConfetti(){this.continuousEmitter=this.add.particles(0,-20,"Confetti atlas",{x:{min:0,max:340},y:-20,speedX:{min:-50,max:50},speedY:{min:50,max:150},gravityY:300,scale:{min:.1,max:.2},rotate:{min:0,max:360},angularVelocity:{min:-200,max:200},alpha:{start:1,end:0},lifespan:4e3,frequency:20,quantity:1,frame:[0,1,2,3,4,5,6,7,8,9,10,11]}),this.continuousEmitter.stop()}startGame(){const t=this.playersCard,e=this.dealersCard,s=this.dealerShadow;this.higherButton.setUp(this.highButtonClick),this.lowerButton.setUp(this.lowButtonclick),this.gameOver.setUp(this.onRiskItAll,this.onCashOut),this.m_DealerValue=Phaser.Math.Between(0,51),this.m_playerValue=Phaser.Math.Between(0,51),this.m_streakCount=0,this.higherButton.scale=0,this.lowerButton.scale=0,this.dealCard(e,{x:100,y:170,duration:300,ease:"Back.easeInOut",onComplete:()=>{this.dealCard(t,{x:240,y:170,duration:300,ease:"Back.easeInOut",onComplete:()=>{this.flipCard(e,this.m_DealerValue,s),this.tweens.add({delay:700,targets:[this.higherButton,this.lowerButton],scale:{from:0,to:this.initialButnScale},yoyo:!1,ease:Phaser.Math.Easing.Back.InOut,duration:150}).play()}})}}).play()}restartGame(){this.m_DealerValue=Phaser.Math.Between(0,51),this.m_playerValue=Phaser.Math.Between(0,51),this.higherButton.enable(),this.lowerButton.enable(),this.higherButton.scale=0,this.lowerButton.scale=0,this.dealCard(this.dealersCard,{x:100,y:170,duration:300,ease:"Back.easeInOut",onComplete:()=>{this.dealCard(this.playersCard,{x:240,y:170,duration:300,ease:"Back.easeInOut",onComplete:()=>{this.flipCard(this.dealersCard,this.m_DealerValue,this.dealerShadow),this.tweens.add({delay:700,targets:[this.higherButton,this.lowerButton],scale:{from:0,to:this.initialButnScale},yoyo:!1,ease:Phaser.Math.Easing.Back.InOut,duration:150}).play()}})}}).play()}flipCard(t,e,s){const a=t.scaleX,i=t.scaleY;this.tweens.add({targets:[t,s],scale:{from:t.scale,to:1.15*t.scale},decay:{from:s.decay,to:.1},duration:200,ease:Phaser.Math.Easing.Expo.Out,yoyo:!1,paused:!0,onComplete:()=>{this.tweens.add({targets:[t],scaleX:{from:t.scaleX,to:0},duration:200,ease:Phaser.Math.Easing.Bounce.InOut,yoyo:!1,paused:!0,onComplete:()=>{t.setFrame(e),this.tweens.add({targets:[t,s],decay:{from:s.decay,to:.05},scaleX:{from:t.scaleX,to:a},scaleY:{from:t.scaleY,to:i},duration:200,ease:Phaser.Math.Easing.Back.InOut,yoyo:!1,paused:!0}).play()}}).play()}}).play()}dealCard(t,e={}){const s=e;return this.tweens.add({targets:t,x:s.x,y:s.y,rotation:0,duration:s.duration,ease:s.ease,delay:s.delay,yoyo:s.yoyo,repeat:s.repeat,onStart:s.onStart,onComplete:s.onComplete,onUpdate:s.onUpdate})}highButtonClick(){this.higherButton.disable(),this.lowerButton.disable(),this.flipCard(this.playersCard,this.m_playerValue,this.playerShadowFx),this.checkGameWithDelay(!0)}lowButtonclick(){this.higherButton.disable(),this.lowerButton.disable(),this.flipCard(this.playersCard,this.m_playerValue,this.playerShadowFx),this.checkGameWithDelay(!1)}checkGameWithDelay(t){var e=this.time.delayedCall(400,this.checkGame,[t],this);this.time.addEvent(e)}checkGame(t){this.m_playerValue%13+2>this.m_DealerValue%13+2?t?this.win():this.lose():t?this.lose():this.win()}win(){console.log("won"),this.showWiner(this.playersCard),this.m_streakCount++,this.streak.updateCounter(this.m_streakCount);var t=this.time.delayedCall(1500,this.showGameOverScreen,[!0],this);this.time.addEvent(t)}showGameOverScreen(t){this.gameOver.visible=!0,this.gameOver.onGameOver(t)}lose(){this.showWiner(this.dealersCard),this.cameras.main.shake(100);var t=this.time.delayedCall(1500,this.showGameOverScreen,[!1],this);this.time.addEvent(t)}onRiskItAll(){this.gameOver.visible=!1,this.playersCard.scaleX=1.6,this.playersCard.scaleY=1.6,this.playersCard.angle=166,this.dealersCard.scaleX=1.6,this.dealersCard.scaleY=1.6,this.dealersCard.angle=166,this.playersCard.x=183,this.playersCard.y=-101,this.dealersCard.x=183,this.dealersCard.y=-101,this.emitter.stop(),this.dealersCard.setFrame(52),this.playersCard.setFrame(52),this.restartGame()}onCashOut(){this.continuousEmitter.start()}showWiner(t){this.emitter.x=t.x,this.emitter.y=t.y,this.emitter.start(),this.emitter.setDepth(-10)}}class d extends s.Scene{constructor(){super("Boot")}preload(){this.load.pack("pack","assets/preload-asset-pack.json?h=83cd7155e4b8b28e2c2ec946207410c8")}create(){this.scene.start("Preload")}}window.addEventListener("load",function(){new s.Game({width:340,height:340,backgroundColor:"#2f2f2f",parent:"game-container",scale:{mode:s.Scale.NONE,autoCenter:s.Scale.Center.CENTER_BOTH},scene:[d,i,a,l]}).scene.start("Boot")});
